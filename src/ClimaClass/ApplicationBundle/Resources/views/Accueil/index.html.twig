{%extends "ClimaClassApplicationBundle::layout.html.twig"%}
{% block content %}
    <div class="pagination">
         {%for report in reports%}
             <p>{{report.title}}</p>
         {%endfor%}
    </div>
    <form id="pager">
            <input type="button" class="navigation" name="previous" value="Previous" />
            <input type="button" class="navigation" name="next" value="Next" />
            <input type="hidden" id="page" value="1" />
    </form>
    <script>
        $(document).ready(function () {
            $('.navigation').click(function () {
                var page = parseInt($("#page").val());                
                
                if($(this).attr('name') == "previous" && page - 1 > 0){
                    changePage(page - 1);
                }else if($(this).attr('name') == "next"){
                    // TODO(adrien): GÃ©rer la limite maximum
                    changePage(page + 1);
                }
                
                
            });
        });
        
        function changePage(pageNumber){
            $.ajax({
                type: 'POST',
                data: {'page': pageNumber},
                url: "{{path('index') }}",
                success: function (response) {
                    $('.pagination').html(response);
                    $("#page").val(pageNumber);
                }
            });
        }
    </script>
{% endblock %}